<!doctype html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta charset="utf-8">
<title>Мультфильмы</title>
<link href="ico120.svg" rel="shortcut icon" type="image/x-icon">
<link href="ico_k.png" rel="apple-touch-icon" sizes="257x257">
<style>
   .preloader{
          position: fixed;
          background-color: #ffffff;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          z-index: 99999;
   }
</style>
<link href="css/SaytKot.css" rel="stylesheet">
<link href="css/mult.css" rel="stylesheet">
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/GBS.rotate.min.js"></script>
<script src="js/GBS.min.js"></script>
<meta content="max-age=3600, must-revalidate" http-equiv="Cache-Control">
<meta content="max-age=3600, proxy-revalidate" http-equiv="Cache-Control">

</head>
<body>
<div class="preloader">
<div>
<img src="preloadermult.gif" width="400" height="66" style="margin: 25% 0 20% 0;">
</div>
</div>
<div id="container">
<div id="FonovyiSloy4" style="position:absolute;text-align:left;left:0px;top:20px;width:980px;height:821px;z-index:71;">
<div id="wb_ImageRamkaFonmadiskonyos" style="position:absolute;left:0px;top:10px;width:970px;height:684px;z-index:0;">
<img src="images/konturkalendar.png" id="ImageRamkaFonmadiskonyos" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>
<div id="TenSledRUSstrmadiskonyos" style="position:absolute;text-align:left;left:214px;top:719px;width:115px;height:87px;z-index:1;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer">
</div>
<div id="TenSledUDMstrmadiskonyos" style="position:absolute;text-align:left;left:80px;top:699px;width:115px;height:87px;z-index:2;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer">
</div>
<div id="LayerLapaUdmmadiskonyos" style="position:absolute;text-align:left;left:77px;top:696px;width:115px;height:87px;z-index:3;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="switchLanguage('udm');return false;">
</div>
<div id="LayerLapaRusmadiskonyos" style="position:absolute;text-align:left;left:211px;top:722px;width:115px;height:87px;z-index:4;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="switchLanguage('rus');return false;">
</div>
<div id="LayerKrest3" style="position:absolute;text-align:left;left:929px;top:24px;width:33px;height:32px;z-index:5;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./index.html';return false;">
</div>
<div id="LayerKnopka4Strmadiskonyos" style="position:absolute;text-align:left;left:798px;top:730px;width:70px;height:60px;z-index:6;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./mesyac.html';return false;">
</div>
<div id="LayerKnopka3Strmadiskonyos" style="position:absolute;text-align:left;left:715px;top:730px;width:70px;height:60px;z-index:7;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./bukva.html';return false;">
</div>
<div id="LayerKnopka2Strmadiskonyos" style="position:absolute;text-align:left;left:631px;top:730px;width:70px;height:60px;z-index:8;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./menuigr.html';return false;">
</div>
<div id="LayerKnopka1Strmadiskonyos" style="position:absolute;text-align:left;left:547px;top:730px;width:70px;height:60px;z-index:9;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./index.html';return false;">
</div>
<div id="Layer3KnopkaAlfavit" style="position:absolute;text-align:left;left:355px;top:731px;width:167px;height:58px;z-index:10;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important; cursor: pointer" onclick="window.location.href='./alfavit.html';return false;">
</div>
<div id="LayerKnopka5Strmadiskonyos" style="position:absolute;text-align:left;left:880px;top:730px;width:75px;height:62px;z-index:11;-webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important; 
-webkit-focus-ring-color: rgba(255, 255, 255, 0) !important; 
outline: none !important;">
</div>
<div id="wb_ImageTV" style="position:absolute;left:55px;top:63px;width:515px;height:403px;z-index:12;">
<img src="images/SamTV.svg" id="ImageTV" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<!-- Единый контейнер для видео -->
<div id="VideoContainer" style="position:absolute;left:116px;top:109px;width:406px;height:228px;z-index:21;">
    <!-- Видео будет загружаться сюда динамически -->
</div>

<!-- Скрытые элементы для хранения URL видео -->
<div id="VideoUrls" style="display:none;">
    <div data-video-id="1" data-url="https://rutube.ru/play/embed/f3c7affd8d77a2c08a5d1ef89e423c53/"></div>
    <div data-video-id="2" data-url="https://rutube.ru/play/embed/c80769eb2c4b12f150b73cffc6477e16/"></div>
    <div data-video-id="3" data-url="https://rutube.ru/play/embed/b9a24268930f3d850fcc53c767b36ff6/"></div>
    <div data-video-id="4" data-url="https://rutube.ru/play/embed/f845adab6cc0c17e33b88c608a856820/"></div>
    <div data-video-id="5" data-url="https://rutube.ru/play/embed/0557ad52d7af7e68903d2b5ada552eb7/"></div>
    <div data-video-id="6" data-url="https://rutube.ru/play/embed/02f1109c4035514ff8f9cf49df9b70ab/"></div>
    <div data-video-id="7" data-url="https://rutube.ru/play/embed/dff888dcb5a93ae0c6948c07c2da3c3c/"></div>
    <div data-video-id="8" data-url="https://rutube.ru/play/embed/826e92e565b3a831b1f85ce88cf95bfa/"></div>
</div>

<!-- Переключатели TV с вращением -->
<div id="wb_ImagePerekluchatelTV" style="position:absolute;left:279px;top:357px;width:80px;height:80px;z-index:29;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(1);return false;"><img src="images/PerekluchatelTV.svg" id="ImagePerekluchatelTV" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV2" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:32;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(2);return false;"><img src="images/PerekluchatelTV-2.svg" id="ImagePerekluchatelTV2" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV3" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:34;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(3);return false;"><img src="images/PerekluchatelTV-3.svg" id="ImagePerekluchatelTV3" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV4" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:36;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(4);return false;"><img src="images/PerekluchatelTV-4.svg" id="ImagePerekluchatelTV4" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV5" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:38;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(5);return false;"><img src="images/PerekluchatelTV-5.svg" id="ImagePerekluchatelTV5" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV6" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:40;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(6);return false;"><img src="images/PerekluchatelTV-6.svg" id="ImagePerekluchatelTV6" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV7" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:42;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(7);return false;"><img src="images/PerekluchatelTV-7.svg" id="ImagePerekluchatelTV7" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchatelTV8" style="position:absolute;left:279px;top:357px;width:80px;height:80px;visibility:hidden;z-index:44;">
<a href="javascript:void(0);" rel="nofollow" onclick="animateSwitchSmooth(8);return false;"><img src="images/PerekluchatelTV-8.svg" id="ImagePerekluchatelTV8" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagePerekluchTvInfoNacholo" style="position:absolute;left:279px;top:357px;width:80px;height:80px;z-index:31;">
<a href="#" onmouseover="showTVInfo();return false;" onmouseout="hideTVInfo();return false;"><img src="images/PerekluchatelTV.svg" id="ImagePerekluchTvInfoNacholo" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImageVKLTv" style="position:absolute;left:116px;top:370px;width:116px;height:54px;z-index:54;">
<a href="javascript:void(0);" rel="nofollow" onclick="turnOnTV();return false;"><img src="images/VKLTv.svg" id="ImageVKLTv" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImageVYKLTv" style="position:absolute;left:116px;top:370px;width:116px;height:54px;visibility:hidden;z-index:46;">
<a href="javascript:void(0);" rel="nofollow" onclick="turnOffTV();return false;"><img src="images/VYKLTv.svg" id="ImageVYKLTv" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></a></div>

<div id="wb_ImagekotTvVopros" style="position:absolute;left:743px;top:465px;width:146px;height:195px;z-index:62;">
<img src="images/kotTvVopros.png" id="ImagekotTvVopros" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<div id="wb_ImagekotTvVoprosTextRUS" style="position:absolute;left:484px;top:481px;width:290px;height:81px;visibility:hidden;z-index:63;">
<img src="images/kotTvVoprosTextRUS.svg" id="ImagekotTvVoprosTextRUS" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<div id="wb_ImagekotTvVoprosTextUDM" style="position:absolute;left:484px;top:481px;width:290px;height:81px;z-index:64;">
<img src="images/kotTvVoprosTextUDM.svg" id="ImagekotTvVoprosTextUDM" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<div id="wb_ImagekotTvPovorot" style="position:absolute;left:743px;top:480px;width:162px;height:180px;visibility:hidden;z-index:65;">
<img src="images/kotTvPovorot.png" id="ImagekotTvPovorot" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<div id="wb_ImagekotTvPovorotText" style="position:absolute;left:561px;top:391px;width:212px;height:155px;visibility:hidden;z-index:66;">
<img src="images/kotTvPovorotText.svg" id="ImagekotTvPovorotText" alt="" style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; user-select: none;"></div>

<div id="wb_ImageInfoTvRUS" style="position:absolute;left:395px;top:361px;width:156px;height:73px;opacity:0.00;visibility:hidden;z-index:67;">
<img src="images/InfoTvRUS.svg" id="ImageInfoTvRUS" alt=""></div>

<div id="wb_ImageInfoTvUDM" style="position:absolute;left:395px;top:361px;width:156px;height:73px;opacity:0.00;z-index:68;">
<img src="images/InfoTvUDM.svg" id="ImageInfoTvUDM" alt=""></div>

<div id="LayerSTOP" style="position:absolute;text-align:left;visibility:hidden;left:262px;top:345px;width:114px;height:104px;z-index:69;">
</div>

</div>
</div>

<script>
// Глобальные переменные для управления видео
var currentVideoId = 1;
var totalVideos = 8;
var isTVOn = false;
var currentLanguage = 'udm'; // По умолчанию удмуртский
var currentSwitchState = 1;

// Функция загрузки видео
function loadVideo(videoId) {
    var videoUrl = $('#VideoUrls div[data-video-id="' + videoId + '"]').data('url');
    
    // Создаем новый iframe
    var iframeHtml = '<iframe width="406" height="228" src="' + videoUrl + '" style="border: none;" frameborder="0" allow="clipboard-write; autoplay; encrypted-media" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
    
    $('#VideoContainer').html(iframeHtml);
    currentVideoId = videoId;
    
    console.log("Loaded video: " + videoId);
}

// Функция остановки текущего видео
function stopCurrentVideo() {
    try {
        var iframe = $('#VideoContainer iframe')[0];
        if (iframe && iframe.contentWindow) {
            iframe.contentWindow.postMessage('{"event": "command", "func": "stopVideo", "args": ""}', "*");
        }
    } catch(e) {
        console.log("Error stopping video:", e);
    }
}

// Функция воспроизведения текущего видео
function playCurrentVideo() {
    try {
        var iframe = $('#VideoContainer iframe')[0];
        if (iframe && iframe.contentWindow) {
            iframe.contentWindow.postMessage('{"event": "command", "func": "playVideo", "args": ""}', "*");
        }
    } catch(e) {
        console.log("Error playing video:", e);
    }
}

// Обработчик клика на переключатель
function handleSwitchClick(switchNumber) {
    if (!isTVOn) return;
    
    // Анимация вращения текущего переключателя
    Animate('wb_ImagePerekluchatelTV' + (switchNumber === 1 ? '' : switchNumber), '279', '357', '', '', '', 200, '1');
    
    // Переходим к следующему видео
    var nextVideoId = switchNumber % totalVideos + 1;
    loadVideo(nextVideoId);
    
    // Через небольшое время скрываем текущий и показываем следующий
    setTimeout(function() {
        // Скрываем текущий переключатель
        $('#wb_ImagePerekluchatelTV' + (switchNumber === 1 ? '' : switchNumber)).css('visibility', 'hidden');
        
        // Показываем следующий переключатель
        var nextSwitchNumber = switchNumber % totalVideos + 1;
        var nextSwitch = $('#wb_ImagePerekluchatelTV' + (nextSwitchNumber === 1 ? '' : nextSwitchNumber));
        nextSwitch.css('visibility', 'visible');
        
        // Обновляем текущее состояние
        currentSwitchState = nextSwitchNumber;
    }, 200); // Задержка равна времени анимации
    
    // Показываем подсказку
    showCatHint();
}

// Анимация переключателя (альтернативный вариант для плавности)
function animateSwitchSmooth(switchNumber) {
    if (!isTVOn) return;
    
    // Анимация вращения
    Animate('wb_ImagePerekluchatelTV' + (switchNumber === 1 ? '' : switchNumber), '279', '357', '', '', '', 200, '1');
    
    // После завершения анимации переключаем видимость
    setTimeout(function() {
        // Скрываем текущий
        $('#wb_ImagePerekluchatelTV' + (switchNumber === 1 ? '' : switchNumber)).css('visibility', 'hidden');
        
        // Показываем следующий
        var nextSwitchNumber = switchNumber % totalVideos + 1;
        $('#wb_ImagePerekluchatelTV' + (nextSwitchNumber === 1 ? '' : nextSwitchNumber)).css('visibility', 'visible');
        
        currentSwitchState = nextSwitchNumber;
        
        // Переходим к следующему видео
        loadVideo(nextSwitchNumber);
        
        // Показываем подсказку
        showCatHint();
    }, 200);
}

// Включение TV
function turnOnTV() {
    isTVOn = true;
    loadVideo(1);
    
    // Сбрасываем переключатель в начальное состояние
    currentSwitchState = 1;
    $('[id^="wb_ImagePerekluchatelTV"]').css('visibility', 'hidden');
    $('#wb_ImagePerekluchatelTV').css('visibility', 'visible');
    
    // Анимации
    ShowObject('wb_ImagekotTvPovorot', 1);
    ShowObject('wb_ImagekotTvVopros', 0);
    ShowObject('wb_ImagekotTvPovorotText', 1);
    Animate('wb_ImagekotTvVoprosTextRUS', '', '', '', '', '0', 200, '');
    Animate('wb_ImagekotTvVoprosTextUDM', '', '', '', '', '0', 200, '');
    ShowObject('wb_ImageVKLTv', 0);
    ShowObject('wb_ImageVYKLTv', 1);
    ShowObject('wb_ImageInfoTvRUS', 0);
    ShowObject('wb_ImageInfoTvUDM', 0);
    ShowObject('wb_ImagePerekluchTvInfoNacholo', 0);
    
    // Автоскрытие подсказки
    setTimeout(function() {
        ShowObject('wb_ImagekotTvPovorotText', 0);
    }, 5000);
}

// Выключение TV
function turnOffTV() {
    isTVOn = false;
    stopCurrentVideo();
    $('#VideoContainer').html(''); // Очищаем контейнер
    
    // Сбрасываем переключатель
    $('[id^="wb_ImagePerekluchatelTV"]').css('visibility', 'hidden');
    $('#wb_ImagePerekluchatelTV').css('visibility', 'visible');
    currentSwitchState = 1;
    
    // Анимации
    ShowObject('wb_ImagekotTvPovorot', 0);
    ShowObject('wb_ImagekotTvVopros', 1);
    ShowObject('wb_ImagekotTvPovorotText', 0);
    Animate('wb_ImagekotTvVoprosTextRUS', '', '', '', '', '100', 200, '');
    Animate('wb_ImagekotTvVoprosTextUDM', '', '', '', '', '100', 200, '');
    ShowObject('wb_ImageVKLTv', 1);
    ShowObject('wb_ImageVYKLTv', 0);
}

// Переключение языка
function switchLanguage(lang) {
    currentLanguage = lang;
    
    if (lang === 'rus') {
        Animate('TenSledRUSstrmadiskonyos', '', '', '', '', '100', 500, '');
        Animate('TenSledUDMstrmadiskonyos', '', '', '', '', '0', 500, '');
        ShowObject('wb_ImagekotTvVoprosTextRUS', 1);
        ShowObject('wb_ImagekotTvVoprosTextUDM', 0);
        ShowObject('wb_ImageInfoTvRUS', 1);
        ShowObject('wb_ImageInfoTvUDM', 0);
    } else {
        Animate('TenSledRUSstrmadiskonyos', '', '', '', '', '0', 500, '');
        Animate('TenSledUDMstrmadiskonyos', '', '', '', '', '100', 500, '');
        ShowObject('wb_ImagekotTvVoprosTextUDM', 1);
        ShowObject('wb_ImagekotTvVoprosTextRUS', 0);
        ShowObject('wb_ImageInfoTvUDM', 1);
        ShowObject('wb_ImageInfoTvRUS', 0);
    }
}

// Показать подсказку кота
function showCatHint() {
    ShowObject('wb_ImagekotTvPovorotText', 1);
    setTimeout(function() {
        ShowObject('wb_ImagekotTvPovorotText', 0);
    }, 3000);
}

// Показать информацию о TV
function showTVInfo() {
    if (currentLanguage === 'rus') {
        Animate('wb_ImageInfoTvRUS', '', '', '', '', '100', 300, '');
    } else {
        Animate('wb_ImageInfoTvUDM', '', '', '', '', '100', 300, '');
    }
}

// Скрыть информацию о TV
function hideTVInfo() {
    if (currentLanguage === 'rus') {
        Animate('wb_ImageInfoTvRUS', '', '', '', '', '0', 300, '');
    } else {
        Animate('wb_ImageInfoTvUDM', '', '', '', '', '0', 300, '');
    }
}

// Инициализация при загрузке страницы
$(document).ready(function() {
    console.log("Page loaded with lazy video loading");
    // Инициализируем переключатели - показываем только первый
    $('[id^="wb_ImagePerekluchatelTV"]').css('visibility', 'hidden');
    $('#wb_ImagePerekluchatelTV').css('visibility', 'visible');
});

// Preloader
$(window).on('load', function(){
    $('.preloader').delay(300).fadeOut('slow');
});

// Перехват кликов по кнопкам "Смотреть на RUTUBE"
document.addEventListener('click', function(event) {
    // Проверяем, является ли элемент кнопкой с title "Смотреть на RUTUBE"
    if (event.target.title === 'Смотреть на RUTUBE' || 
        event.target.closest('[title="Смотреть на RUTUBE"]')) {
        
        console.log('Перехвачен клик по кнопке "Смотреть на RUTUBE"');
        console.log('Элемент:', event.target);
        console.log('Родительский элемент:', event.target.parentElement);
        console.log('Классы элемента:', event.target.className);
        
        // Предотвращаем стандартное действие
        event.preventDefault();
        event.stopPropagation();
        
        // Пытаемся найти iframe с видео
        const iframe = document.querySelector('#VideoContainer iframe');
        if (iframe) {
            console.log('Найден iframe:', iframe);
            console.log('SRC iframe:', iframe.src);
        }
        
        return false;
    }
});

// Перехват событий для динамически созданных элементов
const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
        mutation.addedNodes.forEach(function(node) {
            if (node.nodeType === 1) { // ELEMENT_NODE
                // Проверяем сам элемент
                if (node.title === 'Смотреть на RUTUBE') {
                    console.log('Обнаружена динамически созданная кнопка "Смотреть на RUTUBE"');
                    console.log('Элемент:', node);
                }
                
                // Проверяем дочерние элементы
                const rutubeButtons = node.querySelectorAll ? node.querySelectorAll('[title="Смотреть на RUTUBE"]') : [];
                rutubeButtons.forEach(function(button) {
                    console.log('Обнаружена вложенная кнопка "Смотреть на RUTUBE"');
                    console.log('Элемент:', button);
                });
            }
        });
    });
});

// Начинаем наблюдение
observer.observe(document.body, {
    childList: true,
    subtree: true
});

// Перехват сообщений от iframe (если они есть)
window.addEventListener('message', function(event) {
    // Логируем все сообщения от iframe
    console.log('Сообщение от iframe:', event.data);
    console.log('Источник:', event.source);
    console.log('Origin:', event.origin);
});

// Перехват всех кликов в документе для отладки
document.addEventListener('click', function(event) {
    const target = event.target;
    // Логируем только если элемент имеет title или специфические классы
    if (target.title || target.className.includes('rutube') || target.className.includes('raichu')) {
        console.log('Клик по элементу:');
        console.log('Тег:', target.tagName);
        console.log('Title:', target.title);
        console.log('Классы:', target.className);
        console.log('ID:', target.id);
        console.log('-------------------');
    }
});

console.log('Скрипт перехвата кнопок RUTUBE активирован');
</script>

</body>
</html>